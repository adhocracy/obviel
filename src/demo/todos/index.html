<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>An Obviel todo demo</title>
    <link rel="stylesheet" href="todos.css"/>
    <script type="text/javascript" src="../../dependencies/jquery.js"></script>
    <script type="text/javascript" src="../../dependencies/Gettext.js"></script>
    <script type="text/javascript" src="../../obviel/obviel-template.js"></script>
    <script type="text/javascript" src="../../obviel/json2.js"></script>
    <script type="text/javascript" src="../../obviel/obviel.js"></script>
    <script type="text/javascript" src="todos.js"></script>
  </head>
  <body>
    <div id="todoapp">
    </div>

    <div id="instructions">
      Double-click to edit a todo.
    </div>
    
    <div id="credits">
      Based on <a href="http://addyosmani.github.com/todomvc">TodoMVC</a>
      <br />Rewritten by: Martijn Faassen for Obviel.
    </div>
    
    <script type="text/template" id="obvt-todos">
      <header>
        <h1>Todos</h1>
        <input data-handler="keypress|create_on_enter" id="new-todo" type="text" 
               placeholder="What needs to be done?" />
      </header>
      
      <section id="main" data-if="items">
        <input data-handler="click|toggle_all" id="toggle-all" type="checkbox"/>
        <label for="toggle-all">Mark all as complete</label>
        <ul id="todo-list">
          <li data-each="items" data-view="@."></li>
        </ul>
      </section>
      
      <footer>
        <a id="clear-completed">Clear completed</a>
        <div id="todo-count"></div>
      </footer>
    </script>

    <script type="text/template" id="obvt-todo-stats">
      <a data-if="done" id="clear-completed" data-handler="click|clear_completed">Clear {done} completed items</a>
      <div class="todo-count"><b>{remaining}</b> items left</div>
    </script>

    <script type="text/template" id="obvt-todo">
      <div data-handler="dblclick|edit" class="view">
        <div data-el="input" data-handler="click|toggle" class="toggle" type="checkbox">
          <div data-if="done" data-attr="checked" data-value="checked" />
        </div>
        <label>{title}</label>
        <a data-handler="click|clear" class="destroy"></a>
      </div>
    </script>

    <script type="text/template" id="obvt-todo-editing">
      <input data-handler="keypress|update_on_enter blur|close" class="edit" type="text" value="{title}" /> 
    </script>

  </body>
</html>
